<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Í∞ÄÏò® Ïï®Î≤îÏ∞®Ìä∏</title>
  </head>
  <body>
    <article id="977164dd-33e3-4b48-990d-cada32571451" class="page sans">
      <header>
        <div class="page-header-icon undefined">
          <span class="icon">üíø</span>
        </div>
        <h1 class="page-title">Í∞ÄÏò® Ïï®Î≤îÏ∞®Ìä∏</h1>
        <table class="properties">
          <tbody>
            <tr class="property-row property-row-multi_select">
              <th>
                <span class="icon property-icon">
                  <svg viewBox="0 0 16 16" class="typesMultipleSelect">
                    <path
                      d="M1.91602 4.83789C2.44238 4.83789 2.87305 4.40723 2.87305 3.87402C2.87305 3.34766 2.44238 2.91699 1.91602 2.91699C1.38281 2.91699 0.952148 3.34766 0.952148 3.87402C0.952148 4.40723 1.38281 4.83789 1.91602 4.83789ZM5.1084 4.52344H14.3984C14.7607 4.52344 15.0479 4.23633 15.0479 3.87402C15.0479 3.51172 14.7607 3.22461 14.3984 3.22461H5.1084C4.74609 3.22461 4.45898 3.51172 4.45898 3.87402C4.45898 4.23633 4.74609 4.52344 5.1084 4.52344ZM1.91602 9.03516C2.44238 9.03516 2.87305 8.60449 2.87305 8.07129C2.87305 7.54492 2.44238 7.11426 1.91602 7.11426C1.38281 7.11426 0.952148 7.54492 0.952148 8.07129C0.952148 8.60449 1.38281 9.03516 1.91602 9.03516ZM5.1084 8.7207H14.3984C14.7607 8.7207 15.0479 8.43359 15.0479 8.07129C15.0479 7.70898 14.7607 7.42188 14.3984 7.42188H5.1084C4.74609 7.42188 4.45898 7.70898 4.45898 8.07129C4.45898 8.43359 4.74609 8.7207 5.1084 8.7207ZM1.91602 13.2324C2.44238 13.2324 2.87305 12.8018 2.87305 12.2686C2.87305 11.7422 2.44238 11.3115 1.91602 11.3115C1.38281 11.3115 0.952148 11.7422 0.952148 12.2686C0.952148 12.8018 1.38281 13.2324 1.91602 13.2324ZM5.1084 12.918H14.3984C14.7607 12.918 15.0479 12.6309 15.0479 12.2686C15.0479 11.9062 14.7607 11.6191 14.3984 11.6191H5.1084C4.74609 11.6191 4.45898 11.9062 4.45898 12.2686C4.45898 12.6309 4.74609 12.918 5.1084 12.918Z"></path>
                  </svg>
                </span>
                Tags
              </th>
              <td>
                <span class="selected-value select-value-color-gray"> Music Chart</span>
              </td>
            </tr>
            <tr class="property-row property-row-multi_select">
              <th>
                <span class="icon property-icon">
                  <svg viewBox="0 0 16 16" class="typesMultipleSelect">
                    <path
                      d="M1.91602 4.83789C2.44238 4.83789 2.87305 4.40723 2.87305 3.87402C2.87305 3.34766 2.44238 2.91699 1.91602 2.91699C1.38281 2.91699 0.952148 3.34766 0.952148 3.87402C0.952148 4.40723 1.38281 4.83789 1.91602 4.83789ZM5.1084 4.52344H14.3984C14.7607 4.52344 15.0479 4.23633 15.0479 3.87402C15.0479 3.51172 14.7607 3.22461 14.3984 3.22461H5.1084C4.74609 3.22461 4.45898 3.51172 4.45898 3.87402C4.45898 4.23633 4.74609 4.52344 5.1084 4.52344ZM1.91602 9.03516C2.44238 9.03516 2.87305 8.60449 2.87305 8.07129C2.87305 7.54492 2.44238 7.11426 1.91602 7.11426C1.38281 7.11426 0.952148 7.54492 0.952148 8.07129C0.952148 8.60449 1.38281 9.03516 1.91602 9.03516ZM5.1084 8.7207H14.3984C14.7607 8.7207 15.0479 8.43359 15.0479 8.07129C15.0479 7.70898 14.7607 7.42188 14.3984 7.42188H5.1084C4.74609 7.42188 4.45898 7.70898 4.45898 8.07129C4.45898 8.43359 4.74609 8.7207 5.1084 8.7207ZM1.91602 13.2324C2.44238 13.2324 2.87305 12.8018 2.87305 12.2686C2.87305 11.7422 2.44238 11.3115 1.91602 11.3115C1.38281 11.3115 0.952148 11.7422 0.952148 12.2686C0.952148 12.8018 1.38281 13.2324 1.91602 13.2324ZM5.1084 12.918H14.3984C14.7607 12.918 15.0479 12.6309 15.0479 12.2686C15.0479 11.9062 14.7607 11.6191 14.3984 11.6191H5.1084C4.74609 11.6191 4.45898 11.9062 4.45898 12.2686C4.45898 12.6309 4.74609 12.918 5.1084 12.918Z"></path>
                  </svg>
                </span>
                Languages
              </th>
              <td>
                <span class="selected-value select-value-color-red"> Python</span>
              </td>
            </tr>
          </tbody>
        </table>
      </header>
      <div class="page-body">
        <h2 id="ae234c7d-1dd6-4e54-a434-d0960463d100">Î™©ÌëúÎ°ú ÌïòÎäî Í≤É</h2>
        <p id="9a984ec6-ba08-4ee5-8e93-7c21b0dff90c" class="block-color-gray">What should be true after this project is implemented?</p>
        <ul id="9d0f3bb5-0f65-4d66-834f-8b6aaee177cb" class="bulleted-list">
          <li></li>
        </ul>
        <h2 id="6f0c4581-4566-4a76-802b-cd405f52ce04">Î™©ÌëúÍ∞Ä ÏïÑÎãå Í≤É</h2>
        <p id="2859d3e3-e74d-4f59-afbd-b30a4353bc50" class="block-color-gray">What is explicitly not in scope and why?</p>
        <ul id="d9976594-d27a-47eb-a9f2-51c74444b6c1" class="bulleted-list">
          <li></li>
        </ul>
        <h2 id="9727b7a5-776c-480b-a4ff-0c006d896491">Îç∞Ïù¥ÌÑ∞ Î™®Îç∏ Íµ¨Ï°∞</h2>
        <pre id="0c9287fa-5a19-45d3-a380-0f7866b0a393" class="code">
<code>
classDiagram
class GaonMusicChart {
    +month: int
    +link: URL
    +image: URL
    +album: Album
    +artist: Artist[]
    +distributor: Distributor
    +producer: Producer
    +ranking: int
    +rank_status: string
    +sales_volume: string
    +title: string
}</code>
</pre>
        <h2 id="c6eb5478-10c5-4c89-9f0f-91ed647f8808">ÍπÉÌóàÎ∏å ÏΩîÎìú (gist)</h2>
        <figure id="50cde2a8-ed08-4f0f-a555-8868b307b2d2">
          <a href="https://github.com/AndrewDongminYoo/Serverless-Framework-Crawlers/blob/main/circle-chart/api.py" class="bookmark source">
            <div class="bookmark-info">
              <div class="bookmark-text">
                <div class="bookmark-title">Serverless-Framework-Crawlers/api.py at main ¬∑ AndrewDongminYoo/Serverless-Framework-Crawlers</div>
                <div class="bookmark-description">
                  Serverless FrameworkÎ•º ÌôúÏö©Ìï¥ AWS Lambda Crawler ÎßåÎì§Í∏∞. Contribute to AndrewDongminYoo/Serverless-Framework-Crawlers development by creating an account on GitHub.
                </div>
              </div>
              <div class="bookmark-href">
                <img src="https://github.com/fluidicon.png" class="icon bookmark-icon" />
                https://github.com/AndrewDongminYoo/Serverless-Framework-Crawlers/blob/main/circle-chart/api.py
              </div>
            </div>
            <img src="https://opengraph.githubassets.com/f418c4b35727724a15c3c5ca393007b895e66cf11c32c9656ab50f99a32fc168/AndrewDongminYoo/Serverless-Framework-Crawlers" class="bookmark-image" />
          </a>
        </figure>
        <pre id="5e90d08a-37f3-4c57-9500-59831a4205e3" class="code">
<code>
import logging
import requests
import json
from datetime import datetime
from common import as_chart_array
from utils import (
    date_to_string,
    set_queries,
    object_to_list,
    roll,
)
from driver import USER_AGENT

TODAY = datetime.today()
TERM = 30
MONTH = &#x27;month&#x27;
CIRCLE_URL = &#x27;https://circlechart.kr&#x27;
logger = logging.getLogger(__name__)
logger.setLevel(logging.INFO)
logger.info(f&quot;requests module version: {requests.__version__}&quot;)


def fetch_chart_api(period: str, chart_type: str, dt: datetime):
    try:
        queries = {&#x27;termGbn&#x27;: period}
        yyyymm = date_to_string(dt, period)
        if chart_type == &quot;global&quot;:
            queries[&#x27;yyyymmdd&#x27;] = yyyymm
        elif chart_type == &quot;album&quot;:
            queries[&#x27;hitYear&#x27;] = date_to_string(dt, &#x27;year&#x27;)
            queries[&#x27;targetTime&#x27;] = date_to_string(dt, &#x27;M&#x27;)
            queries[&#x27;nationGbn&#x27;] = &#x27;T&#x27;
            queries[&#x27;yearTime&#x27;] = &#x27;3&#x27;
            queries[&#x27;curUrl&#x27;] = f&#x27;{CIRCLE_URL}/page_chart/{chart_type}.circle{set_queries(queries)}&#x27;
        url = f&#x27;{CIRCLE_URL}/data/api/chart/{chart_type}{set_queries(queries)}&#x27;
        headers = requests.utils.default_headers()
        headers[&quot;User-Agent&quot;] = USER_AGENT
        headers[&#x27;Accept&#x27;] = &#x27;application/json, text/javascript, */*; q=0.01&#x27;
        headers[&#x27;Accept-Language&#x27;] = &#x27;ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7&#x27;
        headers[&#x27;Sec-Fetch-Dest&#x27;] = &#x27;empty&#x27;
        headers[&#x27;Sec-Fetch-Mode&#x27;] = &#x27;cors&#x27;
        headers[&#x27;Sec-Fetch-Site&#x27;] = &#x27;same-origin&#x27;
        headers[&#x27;X-Requested-With&#x27;] = &#x27;XMLHttpRequest&#x27;
        headers[&#x27;sec-ch-ua&#x27;] = &#x27;&quot;Chromium&quot;;v=&quot;106&quot;, &quot;Google Chrome&quot;;v=&quot;106&quot;, &quot;Not;A=Brand&quot;;v=&quot;99&quot;&#x27;
        headers[&#x27;Referer&#x27;] = f&#x27;{CIRCLE_URL}/page_chart/{chart_type}.circle&#x27;
        req = requests.Request(&#x27;POST&#x27;, url)
        request = req.prepare()
        request.prepare_headers(headers=headers)
        res = requests.Session().send(request=request)
        result = res.json()
        if result[&quot;ResultStatus&quot;] == &quot;OK&quot;:
            return as_chart_array(object_to_list(result[&quot;List&quot;]), yyyymm, url)
        else:
            return {
                &quot;status_code&quot;: res.status_code,
                &quot;url&quot;: res.url,
                &quot;content&quot;: json.loads(res.content),
                &quot;encoding&quot;: res.encoding,
                &quot;reason&quot;: res.reason
            }
    except Exception as e:
        logger.exception(e)
        raise e


def fetch_api_data(mode: str):
    if mode == &quot;w&quot;:
        roll(TODAY, fetch_chart_api, &quot;global&quot;, TERM, MONTH, 10)
        roll(TODAY, fetch_chart_api, &quot;album&quot;, TERM, MONTH, 130)
    else:
        roll(TODAY, fetch_chart_api, &quot;global&quot;, TERM, MONTH, 1)
        roll(TODAY, fetch_chart_api, &quot;album&quot;, TERM, MONTH, 1)


if __name__ == &#x27;__main__&#x27;:
    fetch_api_data(&quot;w&quot;)</code>
</pre>
        <hr id="41a889cd-a9c4-484b-b0ea-4c2454c8fc0a" />
        <h2 id="577e7390-9d25-41dc-8c62-7858f5c14661">Í≤∞Í≥ºÎ¨º ÌÖåÏù¥Î∏î (csv or db)</h2>
        <p id="e9f8b398-06a2-4347-b64f-d4826c130bd7">
          <strong> Global K-pop Chart </strong>
          <strong>
            <time>@February 24, 2023</time>
          </strong>
          <strong> Days</strong>
        </p>
        <p id="92259055-f0ee-4f09-ba74-62dbcace2680">ÏùºÍ∞Ñ Ï∞®Ìä∏ : Í∏ÄÎ°úÎ≤å ÏùåÏïÖÏÑúÎπÑÏä§ ÌîåÎû´ÌèºÏùò ÏùºÍ∞Ñ ÏÇ¨Ïö©Îüâ ÏóÖÎç∞Ïù¥Ìä∏ ÏãúÍ∞ÑÏóê Îî∞Îùº Î≥ÄÎèô Í∞ÄÎä•</p>
        <blockquote id="75327482-ad31-4985-946b-0086781e38b4">
          <mark class="highlight-gray"> Daily Chart : Contents may change, depending on the time at which global music service platforms update their daily figures.</mark>
        </blockquote>
        <p id="b2516e21-bbd2-4610-bd2b-1eb972fb6c5c">ÏàúÏúÑÏßëÍ≥Ñ : Ï†ÑÏÑ∏Í≥Ñ K-pop Ïä§Ìä∏Î¶¨Î∞ç ÏÇ¨Ïö©ÎüâÏóê Îî∞Îùº ÏßëÍ≥Ñ</p>
        <blockquote id="ba7bbe87-6d93-4c76-86ff-27bdf65c4a74">
          <mark class="highlight-gray"> Ranking System : Worldwide K-pop streaming usage</mark>
        </blockquote>
        <p id="fb0331ea-0ce8-4645-ac8d-2dc0350a6b1f">new : Ï∞®Ìä∏Ïóê ÏÉàÎ°≠Í≤å ÏßÑÏûÖÌïú Í≥°(Ïï®Î≤î) | HOT : 100ÏúÑ Ïù¥ÏÉÅ ÏàúÏúÑ ÏÉÅÏäπÌïú Í≥°(Ïï®Î≤î)</p>
        <blockquote id="1bcef861-a991-4aac-b8fd-fef58ff59cc9">
          <mark class="highlight-gray"> new : Newly entered | HOT : Jumped up over 100 ranks</mark>
        </blockquote>
        <figure id="5f6a3b1f-dce1-43b9-9f41-02f0db9536ec" class="link-to-page"></figure>
        <figure id="5cc46317-c81b-4286-95ff-a6c234a626c5">
          <a href="https://circlechart.kr/page_chart/global.circle?termGbn=day" class="bookmark source">
            <div class="bookmark-info">
              <div class="bookmark-text">
                <div class="bookmark-title">CIRCLE CHART - Ïç®ÌÅ¥Ï∞®Ìä∏</div>
                <div class="bookmark-description">New Circular Wave.</div>
              </div>
              <div class="bookmark-href">
                <img src="https://circlechart.kr/assets/favicon/apple-touch-icon.png" class="icon bookmark-icon" />
                https://circlechart.kr/page_chart/global.circle?termGbn=day
              </div>
            </div>
          </a>
        </figure>
        <p id="6b0b28f1-df6b-4a81-b6dc-e56e152adfc9">ÏàúÏúÑÏßëÍ≥Ñ : Ïï®Î≤î(TAPE, LP, CD, USB, KiT, Platform Album Îì±) Ï∂úÌïòÎüâ(-Î∞òÌíàÎüâ)ÏúºÎ°ú ÏßëÍ≥Ñ</p>
        <blockquote id="0c6704ac-8271-400d-ae8f-fa5487e70e25">
          <mark class="highlight-gray"> Ranking System : Album distribution volume (Shipments - Returns). (TAPE, LP, CD, USB, KiT, Platform Album, etc.)</mark>
        </blockquote>
        <p id="a23c335b-455c-43b4-aa36-8e1669a8f5b9">new : Ï∞®Ìä∏Ïóê ÏÉàÎ°≠Í≤å ÏßÑÏûÖÌïú Í≥° Ïï®Î≤î | HOT : 100ÏúÑ Ïù¥ÏÉÅ ÏàúÏúÑ ÏÉÅÏäπÌïú Ïï®Î≤î</p>
        <blockquote id="525e7b7c-6393-41fc-8a08-b2492084a20f" class="block-color-gray">new : Newly entered | HOT : Jumped up over 100 ranks</blockquote>
        <figure id="e822c8be-e2a8-49e8-a80b-986e86e33069" class="link-to-page"></figure>
        <figure id="6a4d454b-c79d-4169-9342-605d1103ceae">
          <a href="https://circlechart.kr/page_chart/album.circle" class="bookmark source">
            <div class="bookmark-info">
              <div class="bookmark-text">
                <div class="bookmark-title">CIRCLE CHART - Ïç®ÌÅ¥Ï∞®Ìä∏</div>
                <div class="bookmark-description">New Circular Wave.</div>
              </div>
              <div class="bookmark-href">
                <img src="https://circlechart.kr/assets/favicon/apple-touch-icon.png" class="icon bookmark-icon" />
                https://circlechart.kr/page_chart/album.circle
              </div>
            </div>
          </a>
        </figure>
        <hr id="d0ade5e5-12a0-48ca-a99c-2d6144edb6fd" />
        <p id="71ec5f3b-3dfd-4da4-b262-d58d20801bac"></p>
      </div>
    </article>
  </body>
</html>
